<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentação da API para Extração de Texto</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Documentação da API</a>
    </nav>
    <div class="container mt-5">
        <h1>Documentação da API para Extração de Texto</h1>
        
        <section class="mb-5">
            <h2>Apresentação</h2>
            <p>Esta API foi desenvolvida para melhorar a rastreabilidade e reduzir erros humanos no processo de validação dos Part Numbers na linha de produção. Seguindo as melhores práticas de Engenharia de Software, a solução inclui segurança, documentação, versionamento de endpoints, cobertura de código e monitoramento. A API está hospedada no Google Cloud Platform (GCP) usando o App Engine, com deployment automatizado pelo Bitbucket utilizando CI & CD.</p>
            <p>.</p>
        </section>

        <section class="mb-5">
            <h2>Requisições</h2>
            <div class="card mb-3">
                <div class="card-header">
                    Rota Principal
                </div>
                <div class="card-body">
                    <p><strong>URL:</strong> <code>/extract-text</code></p>
                    <p><strong>Método:</strong> <code>POST</code></p>
                    <p><strong>Descrição:</strong> Esta rota recebe uma imagem no formato multipart/form-data e retorna o texto extraído da imagem.</p>
                </div>
            </div>
            <div class="card mb-3">
                <div class="card-header">
                    Rota de Teste
                </div>
                <div class="card-body">
                    <p><strong>URL:</strong> <code>/</code></p>
                    <p><strong>Método:</strong> <code>GET</code></p>
                    <p><strong>Descrição:</strong> Rota simples para verificar se a API está ativa. Retorna "Hello, World!".</p>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2>Parâmetros</h2>
            <div class="card mb-3">
                <div class="card-header">
                    /extract-text
                </div>
                <div class="card-body">
                    <p><strong>image (obrigatório):</strong> Arquivo de imagem enviado no formato multipart/form-data.</p>
                    <p><strong>Tipo:</strong> Arquivo de imagem (PNG, JPEG, etc.)</p>
                    <p><strong>Descrição:</strong> A imagem que contém o PN a ser extraído.</p>
                </div>
            </div>
            <div class="card mb-3">
                <div class="card-header">
                    /
                </div>
                <div class="card-body">
                    <p>Não há parâmetros para esta rota.</p>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2>Respostas</h2>
            <div class="card mb-3">
                <div class="card-header">
                    /extract-text
                </div>
                <div class="card-body">
                    <h5>Resposta de Sucesso</h5>
                    <p><strong>Status Code:</strong> <code>200 OK</code></p>
                    <pre><code>{
    "extracted_text": "Texto extraído da imagem"
}</code></pre>
                    <p><strong>Descrição:</strong> Retorna o texto extraído da imagem enviada.</p>
                    <h5>Erro: Arquivo de Imagem Não Fornecido</h5>
                    <p><strong>Status Code:</strong> <code>400 Bad Request</code></p>
                    <pre><code>{
    "error": "No image file provided"
}</code></pre>
                    <h5>Erro: Exceção Interna</h5>
                    <p><strong>Status Code:</strong> <code>500 Internal Server Error</code></p>
                    <pre><code>{
    "error": "Descrição detalhada do erro"
}</code></pre>
                </div>
            </div>
            <div class="card mb-3">
                <div class="card-header">
                    /
                </div>
                <div class="card-body">
                    <p><strong>Status Code:</strong> <code>200 OK</code></p>
                    <pre><code>Hello, World!</code></pre>
                </div>
            </div>
        </section>

        <section class="mb-5">
            <h2>Exemplo de Requisição</h2>
            <div class="card mb-3">
                <div class="card-header">
                    Requisição via cURL
                </div>
                <div class="card-body">
                    <pre><code>curl -X POST http://<HOST>:<PORT>/extract-text \
  -F "image=@/caminho/para/imagem.png"</code></pre>
                </div>
            </div>
            <div class="card mb-3">
                <div class="card-header">
                    Requisição via Python
                </div>
                <div class="card-body">
                    <pre><code>import requests

url = 'http://<HOST>:<PORT>/extract-text'
files = {'image': open('/caminho/para/imagem.png', 'rb')}

response = requests.post(url, files=files)
print(response.json())</code></pre>
                </div>
            </div>
        </section>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
